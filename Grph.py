def parse_fasta(fasta):
    results = []
    strings = fasta.strip().split('>')

    for s in strings:
        if len(s):
            parts = s.split()
            k = parts[0]
            v = ''.join(parts[1:])
            results.append((k, v))

    return results


def overlap_graph(fasta, n):
    results = []

    dna = parse_fasta(fasta)

    for k1, v1 in dna:
        for k2, v2 in dna:
            if k1 != k2 and v1.endswith(v2[:n]):
                results.append((k1, k2))

    return results


if __name__ == "__main__":

    small_dataset = """>Rosalind_5176
CGCACTCGCTTCGAGGAAACTTGTATATGCGTTTCATGGGCACATGTGCTCCCTGAACGG
CTCTCTACCTTTCCTAAGCAGTCG
>Rosalind_1424
TTCAGGCAAGACTATCCAGTGACATGGGTGCGCCTCAGGGTCATAAACCAATGGGATTGT
TTCGGAGGAATGAGCGTTAACCTATACGACAGACTT
>Rosalind_9487
CTTGAGTACGGGACATCGAACTATGGTTATCATTGACCTGGGGTAGTGCCGATCGCATAG
TACGGCCCATGTTTGACTTCGAGC
>Rosalind_7435
CCCGCATCAACCGTCATGGTGCACTTCATTTCTCCTCTTATAGGGATCAAAGAGTCACGT
TCGTGACTGAGTACGCTTCGTCACGAATA
>Rosalind_6255
CGGACCCATATGCCCGTTGGACGGTGAGACCCAAACATACCCGTGGGCTTGCTCCCTGTT
TCAATTCCCCAAGGAATCCCCCTCAGCTCCTACGT
>Rosalind_0835
TAATAGTTTGGCGACGGCTCGTCCATATTTGAACTGACCTGGGGTGTGGAAACTTGCAGG
GCTTAGCAGGGAGCGCGGCAACGGGACG
>Rosalind_5986
GCGCGGATCCCGCGGAGGTCCTGACCCGTTAACTAATCCTGCTAGAATCAAACAGCGTTA
ACAAGAGATGGCCACCCAGAGTTGATACCA
>Rosalind_0348
ACATTCGGGATGCATGGCCTCACAGCGGCTCAATTGACGCCTGCTTTCGGCATGCTCCAT
ACGGTCGAAGGAGGAGCTGTAGTAGAAGTGTCGCGA
>Rosalind_9924
CGTCGAGTATCAGTGATAGCCTAGCCGATGGGGGACTGCGTGCACACCTAGTCTCCACCT
TGGTTAGGCCCCTGGGGACGATACAGTATACGTGGA
>Rosalind_1001
AATAATTTTCTCCTATCCGACGCTGACTATGCCTATTTATATCGTCCTTAAAGGCTATTC
TCCAAAAGTCCAGGCAGCATGGGGTTCCT
>Rosalind_9738
AGGGTCATTTGAGGATGCTCTCACTCACGCCCAACTTCGATGACTGAGAAGGAATCGATG
AATTCTTTTATATCCGATAT
>Rosalind_0431
CTCCTGTAGGGCAGGTCACCTCTCGTCTAGTTACCCACTTAAGCTCCGGCCCCCTCTATG
ACCACATGAGATCTTATCGTTTCAAATCGCTCTAAATTC
>Rosalind_9417
CTGCGTCACTTTAGAATCAGGGTGTCCGCCTATTCCATGCATCTGGAGTTAGAGCACTCA
GCCAAGACCATCGTTTTACTTC
>Rosalind_7847
GCCGTAGCTGAGGGTCCGCTTGCAGAACGATGAAGTTATGGCATAGATGACCCACCTAGC
GTACCAAAATCTAATTGGAGGCCTATGGCCAC
>Rosalind_2872
GAGCTAGCCTTTTCTACCGTTGTCCACGATCGTATTTGGAAAGGGACGCGCACAGTTCAC
GGTGGACATTGGATTCCCTTGTTCATA
>Rosalind_2207
ATTAGCATGAGCGGTGCTGTTCCCAATGGTAAAAATTTGCGAAACAATGACTCCAACGTC
AGGAATTACGGCATGGATCTCACAACG
>Rosalind_9433
AAAGAATAAACGGACGCAGCCCGAGCATCCCCTAAGGGAGGGACGAGTGTGATTTTTGAT
CCCGTTGGCGTGCCGTACCC
>Rosalind_7993
CTCCAGGACGCTTGGGGCATTAGCCGAGGGTTCGACTAGAGTAGCGCTCCGCCATGAGCT
GGTTCTGTGTGGGTATCCGGCAGT
>Rosalind_6706
ATATGCATTGCAGTCCAGTGCGAGTTCCGTGGTGCACAACCTCAATGGAGAGGTTGGAGT
GACTGGATAGTGGTTCCATGTTA
>Rosalind_9873
CGTGAAAGTAAGGAGGCTAGTTTAAAGTATCAAGCTCAGACTTTCTCCGAATTACAACGA
GACGGCATTATACTACGAAACAGGG
>Rosalind_3709
GGGCAAGGTGCGGTGAAATATATTGCTGTCAATTTCTTATACGATCAATGACTCTGACGA
TCTCTACTGCGGATTTCGCCAATGAGGCTGTAAGAA
>Rosalind_4548
AGTCAACGAAGGTGAAATCTAGATCCACAACCGCTCGTTTTGTTTCATGACGTATCATTC
ACGCTGTAGAATTACCCACCGACCCAGTCAACA
>Rosalind_0352
GTCCCGTATCGTACCCCCGGCTACCCGAGTATATATAGCGTTTGTTGCCGTGGACGAATA
GAAGTAGTGGCCACAGTATGTAGACGTGA
>Rosalind_8326
TCTCATCGAGATCGGCTTCACAGGAGACTCGAATCCGTAAGACATAACCAATGACTACAC
GTGTTGAGAGCGTACACCGCCAGCCGCGAA
>Rosalind_7430
ACTGCAATGAAGTTATACCATGCTAGACCTAAGTGTTCCGACTCAGAACCAACATACTCG
GATCTGACGAAAGGAGGTGACGGATTCGAGACCATAGA
>Rosalind_0329
TCAACATATTTACTGTAGACCCATTACTCACCCTATGGCACACATTAAGCTCCCCTCCAC
TCGGAAGTAATCTATGTTTCAGCCCCTCTTGAAGAGTCCG
>Rosalind_1542
CGTACACTCGTCGTCATAGGATCAAGACATGCTCTAAACTGGATGTAATAGCAACGAAAC
GCCACCGCAAGAATACACGGAGTCATGA
>Rosalind_2759
CGCCCAGCATGGTTAACAATACGTCGTGAAGTCGGAGGAACCACAGTGCTGGTTTGGCAG
GAAGCGTCTCCCAGCGCGCAATTG
>Rosalind_6577
CGGAAATACGCTGTTTGGTCAGCCGCGTTGTATACTGGCCTGACAGCATCGTGCAGATCC
ATGCGCCATAAACGGATACAAAAAGCCAAGCAGCA
>Rosalind_1017
AGCGAACCTATGACCTCGAACCATCGTCCGACATCAGCGACAGCCTTTATTTCCCATGAT
TGGTAATGGCCCGAACGGCAATTTATCAACACC
>Rosalind_3788
CACCCTACTTGACCTCGGGCGCATGACGTCGGGAGCCGCACCTAAGACGTGTCTCCCTAG
TTCTATCGACCCGCCCCCACGACGTTCGGCGACGGAGCCT
>Rosalind_7059
GGTTTGGCCGAGGGGCCTAACATTCACGATATCCAATAAGAGTCGGGGTCGGTTCCAGGT
GGATCGGACTACATTGTTGTCT
>Rosalind_7994
GGCTCGTTTGGGACACAATAGGTCCCGGGCCCGTGCCTGCCCTCATAGAAGCTCTTCCCA
ATAGTATATTCGGGAGGTCGAAGTCGCGTAGTAG
>Rosalind_9007
GCTTTCTGGGGTTGTAATTCTTGGGGCTGCCCGTACCGAACTTACGGCAACCGGATCGTC
GAAGGCCCGAAGCTTCACGCGATTACCTATT
>Rosalind_8937
ACTTTTTGGTGAGTCACATCATAGACAACTAGCGTAATGCTGGCCTCTTCCAGCAACGAA
GACTCTTGACCTGTCACGCAGGTTGGGCAGGCGGAGGTAC
>Rosalind_9283
GCCATACATAGAGCAGCGTCAATTAATAGCGATGCGTCATAGTTCAAAACGGGTACTCCC
AAGGCGTTGGTGAAGGGTCT
>Rosalind_4774
TGCCCTAGAGCTTCCGAAGCGGAAGCGCCCCCTATTCCATACGCCTGCCCTAACCGCCGC
AACGCCCTTCAGAGACGTCGCGGACACGG
>Rosalind_7823
GAAGTGTTTGCTGACAGACCGTTCTACAGATGTACGGATCCCCGTTCTGGTATTTCCCCG
TTAGCGGACCCATGAGCTTTCTCCGCATTCC
>Rosalind_0405
TGGTAAGTCGATAGAGATCGGGTTGAGTATTCTAGGTTCATTGTGAAGTGTGGGATCGTT
TAATTGAAAAGGCTGAACGG
>Rosalind_5647
CCCTGTTATAAGGGTGGAACTCCCGAGTGACATCAGCATAAAGTTTGGTCCAAAAGCTAT
CGATTTCAATAACCGCTATCCATC
>Rosalind_5760
TCATTACCGACTACACACCCCACTGCACGGCCTGAGGCAGGTAAAGCGTATACCCGACCA
CGCGCGGGTCGCGCGTTGAC
>Rosalind_9279
AAGTTATACATCTCTCATAACAGGGCCCTAAAGACGCATGTACGGCTCCCGGCGTAAGGC
TGTGAGCTCTCCGGACCCCAACATAATGTT
>Rosalind_6830
CGGCAGCGTAGATGCCTGCTGGGACCTACATCGCTGCTAGTGGATGAATGCTACTGGTCC
ACGGACAGTTCGATGGCTCCCTACACTCTA
>Rosalind_6897
CCTCCACAGTATCCCTAAGGTCGCTTGAGACTGCTATGTCATCCCTCAGTGAATCTAAAT
TAAGCGACTATGAATGACGACTCAGTG
>Rosalind_5154
TGATAGACTACGATTCGACGCGGGATTCTTTCGCGTATGCTGGCCATGGTATCGAAGCGC
TCGCCGAAACCTGTAGGCCGTCCCG
>Rosalind_8678
TCAGAAGATCAAATCTCTAGCCTCTCATTTTTCCACTTCGAGGTCACTGTCATCAAATCT
GAATTGGGGGTCACAGTCCATGTGACG
>Rosalind_7315
ATTCGTTTCGAAGCGGAGCTCCTCCTAAGTCCAAACAATATACTGAGGTACCCCGTCCAA
AGCGAGCATCACAGTAGGCTAGAGGCTGTGCTTCAGAGG
>Rosalind_4680
TATATTAGTTCCGAACTCTGTAACAGCCACGCCGTCTCCGGGTTACATGCTTGTCAGTAT
GTGTTATGCCAGCCCGTACCCTGTATGCCTGAACC
>Rosalind_2960
TTTGCCATTTCGGCCGGAGTCGGGCTAGCGTCATAAATATCCCGCCCCGCGCATATGGCA
GTCCCGCATTCCGGCCATCAGGCTCACGG
>Rosalind_0429
CCCCTTGAACTCACACGTACGTGGAGTGGAACCGTTCCGCGCACACTCAATCTTTGAAGA
CGGGCTGAGGTGCCCACAGCACGCAATCTAT
>Rosalind_7119
GATAGTATTCGTATGCTAAACACTCGGAAAGAATCCGTCGCGCGTTGTCCACGGGAAGAT
CTCCGTTTTTTTCCAGCCCA
>Rosalind_3627
GACGAGCTAATCGGAAAGGCGTCTAGATTCGACAGTTGAGGGAGTGTTGTCTAGCTTAGG
GAGGTGTTGATAAAGTGCTA
>Rosalind_8323
GTGCTTTCCACAAATCAGTCAGCACCATAATTCCCGCATTGATTGGTCACCTGTTGTTGA
TTGATTCCATTTTAAATTCATTCAAGCCA
>Rosalind_9727
TGCTTGAAAGGGTATAGCTCGCCAGCACTGATTTATCTACATCTAGCGAGCACTGACGGA
ACTCGGCTCGTATCCCCCACCAAGATTTCACTCATAAGA
>Rosalind_3600
CTCCCCCGGAGTAACCTGGGAAAGTATGGCGAGACTGAGACTCGCGAATAATGGGTTGAT
CCTAAGCGGTGCCTTGGGCAGTA
>Rosalind_2323
TTTAGGTGCTCAGCAAAAGTGGCCTACTACGATCGCTCTAAAATCGGCCATTTGAGTTAA
TCTTGACTTAGTCCGACGTATTTTT
>Rosalind_7904
CGGCCTCATCCTGCTTCCGTGGTGCCATAAGGCAGGCCAACCCTATAGCGCTGTACCGGC
GGCTGGATATGGTCTAGTAAACGGAGCGAGCGG
>Rosalind_8431
GCATCTGCAGCGAATTGTCTAGCGACAGCGATGTCTCGTTAGCTTTCTTGCCCGCCCTAC
GCGAGCGTTCCCGGCGTAAAAATGGGTTAAA
>Rosalind_2008
ATGGAGGAATTCTTTGCCAAGCCCCATAGCTTGAGCCCTGGTTGCGCTCATGAGCGTGGA
ATTCAGAGCCTTGACGCGAAGAGGT
>Rosalind_8828
CTAAGAGCTGTAGAGTCTAGTCACATAGATATGGACGGTCGGCAGTTAGCAACCGATAAT
AAGAGGGGGTATGGTTAACTGGATATGC
>Rosalind_9587
TCTACCAAGGTTCTAAGTCAGTGCGTTTTACGTATACTGAGTGACAAAAGACCTAACAGC
TTTGAGCAGGGTACGGGCCTAATAAGGGGTG
>Rosalind_1174
AAGCGTACAGTCTTCATCTGCAGGTTCGGCAATGCACGTCCCTCAGACTATCACATAGCG
AACCTAGAAACTCCCCTGTG
>Rosalind_7202
TAACGGATATATGGGTGCCCGTACACACCATTTCAATTAAGTTAATCACCTATCGCATGA
CACTCGTTAATAGACCGCAC
>Rosalind_0484
TTTACCCCCTATCGGGACGTAGGGTTCCCAATGAAAACACGCTGGAGGAGTTCGTAGCAC
AAGCCTCCTACCTCGACATTTCACATTCAGTATA
>Rosalind_8263
GGACCCCTTGTGTGGAGGCCGAAGGCTTCGAGAGTGGCCAAACGTGCCGTTCTATTCCAT
CGTTTCTGGGGTTGTGATTTATGATCCCTCACTA
>Rosalind_1620
CTTCCATCTCGCGTTCCCCTAGCGAGAGATTGGGCGCTCCTCCGTGTCGGTGAGTTTAAT
CTAGTCGACTGCCTTGGCTCTTTAGAGT
>Rosalind_7779
GCGGAGGCTGTATATTGATAGATTAGCTCCATATCCCTACCTGGCCCACTCTGTAGGGAA
AACTGAGGTGTGATGGTCTCTAC
>Rosalind_3061
GATGATAGCGGCTGTCTGACTATCCGTACGCATCAGTCAAGTGTGCGAGGTCACCGATGG
AGTACATTCGTGAGCTCTCTT
>Rosalind_4831
GTAGCAATGACCTATGCACATGAATGAGATCCTTAGTACCACATGGCAACACCTACTAGT
CTGGGGGCTGCAAAAAACCGCTTA
>Rosalind_8632
GATGTGCAGGTCGGCGTAAGAATTCCAACTCAGCGTCTGGAAGGTCTGGCGCTAGGATCT
AGAATTACTCCCCCACTTCGCG
>Rosalind_8615
TTGGCCTGCATTCCAGAAAATGGCGGAGCGGCTCTCACTAAGAGTAGATAACCCATGTTA
GACGTCGACTGGATCGGGCGCTCTGAGC
>Rosalind_9909
TCAGCTGCTATAGTCAAAGCATGAGTTACTCCAATGGTAAACCAGTAACAAAAGATCCGG
GCCCGGATAAAGAGTCTTTGCTGACGTCCAAATCCG
>Rosalind_2061
CCATGTCGATCATTTGATCAGTACGCTTTGCGCCTTCACGAGAGTGCGGCTATGACTATT
ACCATAGTTCCGATACTCGACGCGAGTACAGAATT
>Rosalind_1474
GTTGAATTTTATACCGCTTCACGCCCCGCAAGTGGTCTTGAATTAAGGGTCGGTTTATGC
GGTAGGAAGACTGTGATACTCC
>Rosalind_3878
AAGGGCGCCCCCTACGTGTCTCAGGCAGTCGATCACATACTAGCCTTTCGATCTTAACGC
TGTGAACCGAACAGTCTAATTGTGACCTAAGAT
>Rosalind_9032
AGTTTCCTGTCAAATCGAGTCGGCTTGGAACGATACGACCAAGCAGATTGTGGTGGCGCA
ACAAGATACATGAAGCCATCTTTCCAAGGCCAGAACA
>Rosalind_5558
CCTCAGGAGCTCGTGGACGTCAAGATGCCTGTTATGTGGCCGTCTGGAACCGAAAATGGG
ACTTGGAGGCGAGAATGGAAGTATAGCTGAT
>Rosalind_3487
AAATGGCCTATCGTGAAAGGTGTCAGTTATACGCAGTATGCTGCTTGCAATATAAGCAGC
AAACCCTACTATCTTTATGAA
>Rosalind_5694
GACTTTCTCCCTCAAATGCCATCTTTCCATTTACACACTGGCGGAGCCCTGCTGATTAGT
AGCTAGAACCTCGTCTCTCAG
>Rosalind_3241
GGCTAGAACAAGTATGATCCGTTGTGAAGCCCATGACACCCGGGACTAGGTAAAAAGGGA
ATGACACCGCTACTCTTGGCAAT
>Rosalind_1402
ATCTGAATGTATATTGACTGAATTTTACCGCCATATGAAACAGAGATCTGCTATGTTACC
ATACAAGCCGAGAGCGCACTTACAAAT
>Rosalind_9490
CAAACAAATTCAACGACCCGTCGCAGTTTTCTGCCTCTAAACCGTGGACGGGATCACGGG
TGTGCCACGGAAAGCTAAAAAGGAGG
>Rosalind_9452
GTTCGGTGGCAGCAGCTAATGGACAGACAAACCCGACGTCGTTTTTAGAATTTAACGGTG
GAGGACCTGGCCCAATGTTGGTCCT
>Rosalind_5074
CAGAGTGCATACTCCTCGATATTATTTTCCCGGCAGTGTTACGGACAGTAGAGTTGGTAG
GAACGGGAACAACAGATTCATTATTTGG
>Rosalind_1864
CCCGGCAAGGGACGCACGGGCTAAAATGTGGAGTAGGGTTGAAGGGCTCTCGTGGGCACG
CGTGCCCTCTGCTCTGACCGGAGTCTACTAACATGCACC
>Rosalind_8295
GACCGCGTAAAACCTATGATTACTCACTCGTGATATGATGTGCGCCGAGAATCGCGGGCT
GGATAATTCGACCCTCCCTAGGG
>Rosalind_2589
TTCTACTCCTTTTCGGTGGAGCAATTTTGTATGGTGGCGTAGGTCCGCAGTACTATGAGG
CGGGAAATTGACTATTAGCACCGCGGGACGGTGAAGACGT
>Rosalind_9214
GAACAATGTATACAAGACAGTTAAGACATACATCTACAATCGGAAATCGTAAATGACGCC
CCGGTTCTTGTGGCCAATGCAAGCAAAGGGTCGTGACA
>Rosalind_2663
GCCATAGATGAGATTATGCTGACTCCGATGCTACGGGGATACCGCAAAGGAAGCTGTGTA
AGCATCGGCAATTCAGGATTAGGGGACGGCCG
>Rosalind_0187
ATCCCGACAGGGGTTTTGTAGTCACATGAGAGGATTCAACCGGAATCTCGAGTATGCCTG
ACATACAAAGCGATCAGTTTCGGACGTACC
>Rosalind_3435
CGGCGTGTGCTGTGTCGCCTCATAACTCCCATGCGCGGTTGAACTATCGGGGGGTGGCCG
ACGAAAACAGTTACATTGACGGCC
>Rosalind_9228
GACATCTTGAATGAGTCAACCACCTTTGACCGGGCATCTCGAGAAGACCTGGACTGAATG
ACGGCATCCCGCCCTCACTTACGT
>Rosalind_4397
AATGCCGATTCTTAGTTTTACGGCTCCCCAAGCAGCCAACGACCAGCGAAGATAATACGG
TTGCTCGCCGCCTAACGTGGTCCCGATGAAGGG
>Rosalind_9589
TATGTTTCCCGTCTGGATGTTACGCTTTTAGCCGTATTAATTTTTCTTAACAACGTCCAG
TTCATGCTTCACAAATTTTGGGCGGAACGGATTGGT
>Rosalind_6523
GGCACACGAAACATGGCCTAGTTTAGGGGTAATAGACCTATTGGGATGGTGAAACTGCTG
CCGGCTTCTCGGTGAGCGCCCGCGATCGACGTGACGGC
>Rosalind_2731
GTCGCTAATCATGAGGGGTCATTGTAACAAAGTATGTCCGTTCCCCGCAGAGGCAGCTTG
CTTAGGGGCGTGGGGAACAGAT
>Rosalind_7760
AGCCGACACTCCGTCAATCGGAGGTTCATTGGATTTACTAGTATGATGCTAGCCTAGGAC
CAATATTAGGTAACTACCCCTTAGGACGT
>Rosalind_5029
TTTAAAGCTGCAGGTGAGCGAGAAGATGTGCATGGTGGAGCAACCTATCCCATTTGAAAC
AGCGTCAAGGTGTGTTGAGGATGAGCACGA
>Rosalind_0342
TTACGTTACGAAGTCCCCCCTTTGGGGGTAGGAATCATCACATTAAATCTCTCGAAGCAC
GGAGTGCGCGCGGCAGGGGGAATGTCC
>Rosalind_6793
GAAAGCTAGCCGTCGTCTGGCGCAATACAATGAGAACAGGGTCTTTCGTATTCCGTGTAC
CGCTGTTAGCGCAGCGTTCATGCCCGGATGTC"""
for edge in overlap_graph(small_dataset, 3):
        print (edge[0], edge[1])

